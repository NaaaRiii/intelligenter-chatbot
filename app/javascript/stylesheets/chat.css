/* チャット画面のスタイル */
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
  /* チャットコンテナ */
  .chat-container {
    @apply h-screen flex flex-col bg-gray-50;
  }

  /* メッセージバブル */
  .message-bubble {
    @apply relative;
    word-wrap: break-word;
    max-width: 100%;
  }

  /* ユーザーメッセージ */
  .message-item.user .message-bubble {
    @apply bg-gradient-to-r from-blue-600 to-blue-700 text-white;
    border-bottom-right-radius: 0.25rem;
  }

  /* アシスタントメッセージ */
  .message-item.assistant .message-bubble {
    @apply bg-white text-gray-800 border border-gray-200;
    border-bottom-left-radius: 0.25rem;
  }

  /* システムメッセージ */
  .message-item.system {
    @apply text-center my-4;
  }

  .message-item.system .message-bubble {
    @apply bg-gray-100 text-gray-600 text-sm inline-block px-3 py-1 rounded-full;
  }

  /* タイピングインジケーター */
  .typing-dot {
    animation: bounce 1.4s infinite ease-in-out;
  }

  .typing-dot:nth-child(1) {
    animation-delay: -0.32s;
  }

  .typing-dot:nth-child(2) {
    animation-delay: -0.16s;
  }

  @keyframes bounce {
    0%, 80%, 100% {
      transform: scale(0);
      opacity: 0.5;
    }
    40% {
      transform: scale(1);
      opacity: 1;
    }
  }

  /* 入力エリア */
  .chat-input-container textarea {
    min-height: 60px;
    max-height: 200px;
  }

  /* スクロールバーのカスタマイズ */
  .chat-messages-container::-webkit-scrollbar {
    width: 8px;
  }

  .chat-messages-container::-webkit-scrollbar-track {
    @apply bg-gray-100;
  }

  .chat-messages-container::-webkit-scrollbar-thumb {
    @apply bg-gray-400 rounded-full;
  }

  .chat-messages-container::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-500;
  }

  /* 接続ステータス */
  .connection-status {
    @apply flex items-center px-3 py-1 bg-white bg-opacity-20 rounded-full;
  }

  /* メッセージアニメーション */
  @keyframes slideInFromBottom {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .message-item {
    animation: slideInFromBottom 0.3s ease-out;
  }

  /* レスポンシブデザイン */
  @media (max-width: 640px) {
    .message-bubble {
      @apply text-sm;
    }

    .chat-header h1 {
      @apply text-lg;
    }

    .chat-input-container textarea {
      @apply text-sm;
    }
  }
}